
:link_to_translation:`zh_CN:[中文]`

AT messages
=================

There are two types of messages returned from the BK7238 command port: passive response and active reporting.

------------------------
BK7238 passive response
------------------------

Each input and each command will return a response, telling the sender the results of the execution of the command.

+---------------------+---------------------------------------------------------------+
|AT passive response  |Description                                                    |
+=====================+===============================================================+
|OK                   |AT command processing completed, return OK                     |
+---------------------+---------------------------------------------------------------+
|ERROR                |AT command error or an error occurred during execution         |
+---------------------+---------------------------------------------------------------+
|SEND OK              |Data has been sent to the protocol stack                       |
+---------------------+---------------------------------------------------------------+
|SEND FAIL            |An error occurred while sending data to the protocol stack     |
+---------------------+---------------------------------------------------------------+
|+<Command Name>:...  |Details the AT command processing results                      |
+---------------------+---------------------------------------------------------------+

----------------------------
BK7238 proactive reporting
----------------------------

The BK7238 will report important status changes or messages in the system during execution.

+-------------------------------------------+-----------------------------------------------------------------------------------------+
|AT message report                          |Description                                                                              |
+===========================================+=========================================================================================+
|ready                                      |Power-on initialization completed, AT commands ready                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|bk_reboot                                  |Restart the module immediately                                                           |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|WIFI CONNECTED                             |Wi-Fi station interface is connected to AP AP                                            |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|WIFI GOT IP                                |Wi-Fi station interface has obtained IPv4 address                                        |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|[<conn_id>,]CONNECT                        |The network connection with ID <conn_id> has been established (by default, ID is 0)      |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|[<conn_id>,]CLOSED                         |The network connection with ID <conn_id> has been disconnected (by default, ID is 0)     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+STA_CONNECTED:<sta_mac>                   |Station is connected to the Wi-Fi softAP interface                                       |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+DIST_STA_IP:<sta_mac>,<sta_ip>            |Wi-Fi softAP interface assigns IP address to station                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+STA DISCONNECTED: <sta_mac>               |Station is disconnected from the Wi-Fi softAP interface of BK-AT                         |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|>                                          |Waiting for user to enter data                                                           |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+IPD                                       |Data received from network                                                               |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+QUIT                                      |Exit Wi-Fi passthrough mode                                                              |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+MQTTCONNECTED                             |MQTT is connected to the broker                                                          |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+MQTTDISCONNECTED                          |MQTT has been disconnected from the broker                                               |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+MQTTSUBRECV                               |MQTT has received data from the broker                                                   |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+MQTTPUB:FAIL                              |MQTT failed to publish data                                                              |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+MQTTPUB:OK                                |MQTT publishing data completed                                                           |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+BLECONN                                   |Bluetooth LE connection established                                                      |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+BLEDISCONN                                |Bluetooth LE connection disconnected                                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+READ                                      |Read operation via Bluetooth LE connection                                               |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+WRITE                                     |Write operation via Bluetooth LE connection                                              |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+NOTIFY                                    |Bluetooth LE connection notification                                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+INDICATE                                  |Indication from Bluetooth LE connection                                                  |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+BLESECNTFYKEY                             |Bluetooth LE SMP key                                                                     |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+BLESECREQ:<conn_index>                    |Encrypted pairing request received from Bluetooth LE connection                          |
+-------------------------------------------+-----------------------------------------------------------------------------------------+
|+BLEAUTHCMPL:<conn_index>,<enc_result>     |Bluetooth LE SMP pairing completed                                                       |
+-------------------------------------------+-----------------------------------------------------------------------------------------+

